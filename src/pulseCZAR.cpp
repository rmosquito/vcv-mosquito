#include "Mosquito.hpp"
// #include "dsp/digital.hpp"


extern float pulseWaveTable[8][256];
extern float envTable[8][256];

struct PulseCzar : Module {
	enum ParamIds {
		WAVE_PITCH_PARAM,
		ENV_PITCH_PARAM,
		WAVE_PARAM,
		ENV_PARAM,
		MASK_PARAM,
		WAVE_INTERPOLATE_ON,
		ENV_INTERPOLATE_ON,
		WAVE_LINK_ON,
		ENV_LINK_ON,
		GAIN_PARAM,
		NUM_PARAMS
	};
	enum InputIds {
		VOCT_INPUT,
		WAVE_PITCH_INPUT,
		ENV_PITCH_INPUT,
		WAVE_INPUT,
		ENV_INPUT,
		MASK_INPUT,
		NUM_INPUTS
	};
	enum OutputIds {
		TONE_OUTPUT,
		NUM_OUTPUTS
	};
	enum LightIds {
		WAVE_INTERPOLATE_LIGHT,
		ENV_INTERPOLATE_LIGHT,
		WAVE_LINK_LIGHT,
		ENV_LINK_LIGHT,
		NUM_LIGHTS
	};


	float wavephase = 0.0;
	float envphase = 0.0;
	float amp = 1.0;

	bool wave_link_toggle = true;
	bool env_link_toggle = true;

	bool interpolate_wave_toggle = false;

	bool interpolate_env_toggle = false;

	dsp::SchmittTrigger wl;
	dsp::SchmittTrigger el;

	dsp::SchmittTrigger iw;
	dsp::SchmittTrigger ie;

	// PulseCzar() : Module(NUM_PARAMS, NUM_INPUTS, NUM_OUTPUTS, NUM_LIGHTS) {}
	PulseCzar() {
		config(NUM_PARAMS, NUM_INPUTS, NUM_OUTPUTS, NUM_LIGHTS);
		configParam(WAVE_PITCH_PARAM, -3.0, 3.0, 0.0);
		configParam(ENV_PITCH_PARAM, -3.0, 3.0, 0.0);
		configParam(WAVE_PARAM, 0.0, 7.99, 0.0);
		configParam(ENV_PARAM, 0.0, 7.99, 0.0);
		configParam(GAIN_PARAM, 1.0, 10.0, 0.0);
		configParam(WAVE_INTERPOLATE_ON, 0.0f, 1.0f, 0.0f);
		configParam(ENV_INTERPOLATE_ON, 0.0f, 1.0f, 0.0f);
		configParam(WAVE_LINK_ON, 0.0f, 1.0f, 0.0f);
		configParam(ENV_LINK_ON, 0.0f, 1.0f, 0.0f);
	}

	void process(const ProcessArgs &args) override {
		// Implement a simple sine oscillator
		float deltaTime = args.sampleTime;

		if (wl.process(params[WAVE_LINK_ON].getValue())) {
			wave_link_toggle = !wave_link_toggle;
		}
		if (el.process(params[ENV_LINK_ON].getValue())) {
			env_link_toggle = !env_link_toggle;
		}
		if (iw.process(params[WAVE_INTERPOLATE_ON].getValue())) {
			interpolate_wave_toggle = !interpolate_wave_toggle;
		}
		if (ie.process(params[ENV_INTERPOLATE_ON].getValue())) {
			interpolate_env_toggle = !interpolate_env_toggle;
		}



		float wave = params[WAVE_PARAM].getValue() + inputs[WAVE_INPUT].getVoltage();
		float env = params[ENV_PARAM].getValue() + inputs[ENV_INPUT].getVoltage();
		float mask = params[MASK_PARAM].getValue() + (inputs[MASK_INPUT].getVoltage() / 10);
		float gain = params[GAIN_PARAM].getValue();

		// probably should move this down with the inputs.
		float voct = inputs[VOCT_INPUT].getVoltage();


		// Compute the frequency from the pitch knobs 
		float wavepitch = params[WAVE_PITCH_PARAM].getValue() + (voct * ( int )wave_link_toggle);
		float envpitch = params[ENV_PITCH_PARAM].getValue() + (voct * ( int )env_link_toggle);

		// .... and input.  I don't know why I didn't just combine them like the selects...
		wavepitch += inputs[WAVE_PITCH_INPUT].getVoltage();
		envpitch += inputs[ENV_PITCH_INPUT].getVoltage();

		// clamp voltages from the wave select cvs that would throw us into overflows
		wave = clamp(wave, 0.0f, 7.99f);
		env = clamp(env, 0.0f, 7.99f);


		wavepitch = clamp(wavepitch, -4.0f, 4.0f);
		envpitch = clamp(envpitch, -4.0f, 4.0f);
		mask = clamp(mask, 0.0f, 1.0f);



		// The default pitch is C4
		float wavefreq = 261.626f * powf(2.0f, wavepitch);
		float envfreq = 261.626f * powf(2.0f, envpitch);

		// Accumulate the phase
		wavephase += wavefreq * deltaTime;
		if (wavephase >= 1.0f) {
			// keep cycling, 
			wavephase -= 1.0f;
			//but silence output.
			amp = 0.0f;
		}

		envphase += envfreq * deltaTime;
		if (envphase >= 1.0f) {
			envphase -= 1.0f;
			// reset wave phase & reenable output
			wavephase = 0.0f;
			amp = 1.0f;
			if (mask > (rand() / (RAND_MAX + 0.9))) {
				amp = 0.0f;
			}

		}


		// make the pulseWaveTable circular 
		int nextwave = 0;
		if (( int )wave < 7) {
			nextwave = ( int )wave + 1;
		};

		int nextenv = 0;
		if (( int )env < 7) {
			nextenv = ( int )env + 1;
		};


		// interpolate waveforms
		float wavetone = interpolateLinear(pulseWaveTable[( int )wave], wavephase * 255.f);
		float envtone = interpolateLinear(envTable[( int )env], envphase * 255.f);




		if (interpolate_wave_toggle == 1) {
			wavetone = crossfade(
				wavetone,
				interpolateLinear(pulseWaveTable[nextwave], wavephase * 255.f),
				wave - ( int )wave
			);
		};

		if (interpolate_env_toggle == 1) {
			envtone = crossfade(
				envtone,
				interpolateLinear(envTable[nextenv], envphase * 255.f),
				env - ( int )env
			);
		};


		wavetone *= amp;



		// deal with lights
		lights[WAVE_INTERPOLATE_LIGHT].setBrightness(interpolate_wave_toggle);
		lights[ENV_INTERPOLATE_LIGHT].setBrightness(interpolate_env_toggle);

		lights[WAVE_LINK_LIGHT].setBrightness(wave_link_toggle);
		lights[ENV_LINK_LIGHT].setBrightness(env_link_toggle);


		outputs[TONE_OUTPUT].setVoltage((wavetone * envtone * gain));

		// fold excess waves
		while (abs(outputs[TONE_OUTPUT].getVoltage()) >= 5.1f) {
			if (outputs[TONE_OUTPUT].getVoltage() >= 5.0f) {
				outputs[TONE_OUTPUT].setVoltage(5.0f - (outputs[TONE_OUTPUT].getVoltage() - 5.0f));
			}

			if (outputs[TONE_OUTPUT].getVoltage() <= -5.0f) {
				outputs[TONE_OUTPUT].setVoltage(-5.0f - (outputs[TONE_OUTPUT].getVoltage() + 5.0f));
			}
		}
	}



	json_t *dataToJson() override {
		json_t *rootJ = json_object();

		// v.oct lock
		json_object_set_new(rootJ, "wave_link_toggle", json_boolean(wave_link_toggle));
		json_object_set_new(rootJ, "env_link_toggle", json_boolean(env_link_toggle));
		json_object_set_new(rootJ, "interpolate_wave_toggle", json_boolean(interpolate_wave_toggle));
		json_object_set_new(rootJ, "interpolate_env_toggle", json_boolean(interpolate_env_toggle));

		return rootJ;
	}

	void dataFromJson(json_t *rootJ) override {
		// oct locks
		json_t *wave_link_toggleJ = json_object_get(rootJ, "wave_link_toggle");
		if (wave_link_toggleJ)
			wave_link_toggle = json_is_true(wave_link_toggleJ);
		json_t *env_link_toggleJ = json_object_get(rootJ, "env_link_toggle");
		if (env_link_toggleJ)
			env_link_toggle = json_is_true(env_link_toggleJ);
		json_t *interpolate_wave_toggleJ = json_object_get(rootJ, "interpolate_wave_toggle");
		if (interpolate_wave_toggleJ)
			interpolate_wave_toggle = json_is_true(interpolate_wave_toggleJ);

		json_t *interpolate_env_toggleJ = json_object_get(rootJ, "interpolate_env_toggle");
		if (interpolate_env_toggleJ)
			interpolate_env_toggle = json_is_true(interpolate_env_toggleJ);

	}
	// For more advanced Module features, read Rack's engine.hpp header file
	// - dataToJson, dataFromJson: serialization of internal data
	// - onSampleRateChange: event triggered by a change of sample rate
	// - onReset, onRandomize, onCreate, onDelete: implements special behavior when user clicks these from the context menu
};


template <typename BASE>
struct MyLight : BASE {
	MyLight() {
		this->box.size = mm2px(Vec(6.0f, 6.0f));
	}
};

struct PulseCzarWidget : ModuleWidget {
	PulseCzarWidget(PulseCzar *module) {
		// v1
		setModule(module);
		setPanel(APP->window->loadSvg(asset::plugin(pluginInstance, "res/pulse.svg")));

		// setPanel(SVG::load(asset::plugin(pluginInstance, "res/pulse.svg")));

		addChild(createWidget<ScrewSilver>(Vec(RACK_GRID_WIDTH, 0)));
		addChild(createWidget<ScrewSilver>(Vec(box.size.x - 2 * RACK_GRID_WIDTH, 0)));
		addChild(createWidget<ScrewSilver>(Vec(RACK_GRID_WIDTH, RACK_GRID_HEIGHT - RACK_GRID_WIDTH)));
		addChild(createWidget<ScrewSilver>(Vec(box.size.x - 2 * RACK_GRID_WIDTH, RACK_GRID_HEIGHT - RACK_GRID_WIDTH)));

		addParam(createParam<LEDButton>(Vec(11, 66), module, PulseCzar::WAVE_INTERPOLATE_ON));
		addChild(createLight<MyLight<GreenLight>>(Vec(11, 66), module, PulseCzar::WAVE_INTERPOLATE_LIGHT));
		addParam(createParam<LEDButton>(Vec(11, 131), module, PulseCzar::ENV_INTERPOLATE_ON));
		addChild(createLight<MyLight<GreenLight>>(Vec(11, 131), module, PulseCzar::ENV_INTERPOLATE_LIGHT));
		addParam(createParam<LEDButton>(Vec(11, 196), module, PulseCzar::WAVE_LINK_ON));
		addChild(createLight<MyLight<GreenLight>>(Vec(11, 196), module, PulseCzar::WAVE_LINK_LIGHT));
		addParam(createParam<LEDButton>(Vec(11, 261), module, PulseCzar::ENV_LINK_ON));
		addChild(createLight<MyLight<GreenLight>>(Vec(11, 261), module, PulseCzar::ENV_LINK_LIGHT));

		addParam(createParam<Rogan3PWhite>(Vec(77, 54), module, PulseCzar::WAVE_PARAM));
		addParam(createParam<Rogan3PWhite>(Vec(77, 118.5), module, PulseCzar::ENV_PARAM));
		addParam(createParam<Rogan3PWhite>(Vec(77, 183.5), module, PulseCzar::WAVE_PITCH_PARAM));
		addParam(createParam<Rogan3PWhite>(Vec(77, 248.5), module, PulseCzar::ENV_PITCH_PARAM));
		addParam(createParam<Rogan3PWhite>(Vec(77, 314), module, PulseCzar::MASK_PARAM));
		addParam(createParam<Trimpot>(Vec(135, 260), module, PulseCzar::GAIN_PARAM));

		addInput(createInput<PJ301MPort>(Vec(41, 63), module, PulseCzar::WAVE_INPUT));
		addInput(createInput<PJ301MPort>(Vec(41, 128), module, PulseCzar::ENV_INPUT));
		addInput(createInput<PJ301MPort>(Vec(41, 193), module, PulseCzar::WAVE_PITCH_INPUT));
		addInput(createInput<PJ301MPort>(Vec(41, 258), module, PulseCzar::ENV_PITCH_INPUT));
		addInput(createInput<PJ301MPort>(Vec(41, 323), module, PulseCzar::MASK_INPUT));
		addInput(createInput<PJ301MPort>(Vec(6, 323), module, PulseCzar::VOCT_INPUT));

		addOutput(createOutput<PJ301MPort>(Vec(133, 323), module, PulseCzar::TONE_OUTPUT));
	}
};


Model *modelPulseCzar = createModel<PulseCzar, PulseCzarWidget>("PulseCzar");


float pulseWaveTable[8][256]{
{
		// [0] sine
		0,0.0234375,0.046875,0.0703125,0.09375,0.1171875,0.140625,0.1640625,0.1875,0.2109375,0.234375,0.2578125,0.28125,0.3046875,0.328125,0.3515625,0.375,0.3984375,0.421875,0.4453125,0.4609375,0.484375,0.5078125,0.5234375,0.546875,0.5703125,0.5859375,0.609375,0.625,0.640625,0.6640625,0.6796875,0.6953125,0.7109375,0.734375,0.75,0.765625,0.78125,0.796875,0.8046875,0.8203125,0.8359375,0.84375,0.859375,0.875,0.8828125,0.890625,0.90625,0.9140625,0.921875,0.9296875,0.9375,0.9453125,0.953125,0.9609375,0.9609375,0.96875,0.9765625,0.9765625,0.984375,0.984375,0.984375,0.984375,0.984375,0.984375,0.984375,0.984375,0.984375,0.984375,0.984375,0.9765625,0.9765625,0.96875,0.9609375,0.9609375,0.953125,0.9453125,0.9375,0.9296875,0.921875,0.9140625,0.90625,0.890625,0.8828125,0.875,0.859375,0.84375,0.8359375,0.8203125,0.8046875,0.796875,0.78125,0.765625,0.75,0.734375,0.7109375,0.6953125,0.6796875,0.6640625,0.640625,0.625,0.609375,0.5859375,0.5703125,0.546875,0.5234375,0.5078125,0.484375,0.4609375,0.4453125,0.421875,0.3984375,0.375,0.3515625,0.328125,0.3046875,0.28125,0.2578125,0.234375,0.2109375,0.1875,0.1640625,0.140625,0.1171875,0.09375,0.0703125,0.046875,0.0234375,0,-0.03125,-0.0546875,-0.078125,-0.1015625,-0.125,-0.1484375,-0.171875,-0.1953125,-0.21875,-0.2421875,-0.265625,-0.2890625,-0.3125,-0.3359375,-0.359375,-0.3828125,-0.40625,-0.4296875,-0.453125,-0.46875,-0.4921875,-0.515625,-0.53125,-0.5546875,-0.578125,-0.59375,-0.6171875,-0.6328125,-0.6484375,-0.671875,-0.6875,-0.703125,-0.71875,-0.7421875,-0.7578125,-0.7734375,-0.7890625,-0.8046875,-0.8125,-0.828125,-0.84375,-0.8515625,-0.8671875,-0.8828125,-0.890625,-0.8984375,-0.9140625,-0.921875,-0.9296875,-0.9375,-0.9453125,-0.953125,-0.9609375,-0.96875,-0.96875,-0.9765625,-0.984375,-0.984375,-0.9921875,-0.9921875,-0.9921875,-0.9921875,-0.9921875,-0.9921875,-0.9921875,-0.9921875,-0.9921875,-0.9921875,-0.9921875,-0.984375,-0.984375,-0.9765625,-0.96875,-0.96875,-0.9609375,-0.953125,-0.9453125,-0.9375,-0.9296875,-0.921875,-0.9140625,-0.8984375,-0.890625,-0.8828125,-0.8671875,-0.8515625,-0.84375,-0.828125,-0.8125,-0.8046875,-0.7890625,-0.7734375,-0.7578125,-0.7421875,-0.71875,-0.703125,-0.6875,-0.671875,-0.6484375,-0.6328125,-0.6171875,-0.59375,-0.578125,-0.5546875,-0.53125,-0.515625,-0.4921875,-0.46875,-0.453125,-0.4296875,-0.40625,-0.3828125,-0.359375,-0.3359375,-0.3125,-0.2890625,-0.265625,-0.2421875,-0.21875,-0.1953125,-0.171875,-0.1484375,-0.125,-0.1015625,-0.078125,-0.0546875,-0.03125
	},
	{
		// [1] triangle
		0.0078125,0.0234375,0.0390625,0.0546875,0.0703125,0.0859375,0.1015625,0.1171875,0.1328125,0.1484375,0.1640625,0.1796875,0.1953125,0.2109375,0.2265625,0.2421875,0.2578125,0.2734375,0.2890625,0.3046875,0.3203125,0.3359375,0.3515625,0.3671875,0.3828125,0.3984375,0.4140625,0.4296875,0.4453125,0.4609375,0.4765625,0.4921875,0.5078125,0.5234375,0.5390625,0.5546875,0.5703125,0.5859375,0.6015625,0.6171875,0.6328125,0.6484375,0.6640625,0.6796875,0.6953125,0.7109375,0.7265625,0.7421875,0.7578125,0.7734375,0.7890625,0.8046875,0.8203125,0.8359375,0.8515625,0.8671875,0.8828125,0.8984375,0.9140625,0.9296875,0.9453125,0.9609375,0.9765625,0.9921875,0.9765625,0.9609375,0.9453125,0.9296875,0.9140625,0.8984375,0.8828125,0.8671875,0.8515625,0.8359375,0.8203125,0.8046875,0.7890625,0.7734375,0.7578125,0.7421875,0.7265625,0.7109375,0.6953125,0.6796875,0.6640625,0.6484375,0.6328125,0.6171875,0.6015625,0.5859375,0.5703125,0.5546875,0.5390625,0.5234375,0.5078125,0.4921875,0.4765625,0.4609375,0.4453125,0.4296875,0.4140625,0.3984375,0.3828125,0.3671875,0.3515625,0.3359375,0.3203125,0.3046875,0.2890625,0.2734375,0.2578125,0.2421875,0.2265625,0.2109375,0.1953125,0.1796875,0.1640625,0.1484375,0.1328125,0.1171875,0.1015625,0.0859375,0.0703125,0.0546875,0.0390625,0.0234375,0.0078125,-0.0078125,-0.0234375,-0.0390625,-0.0546875,-0.0703125,-0.0859375,-0.1015625,-0.1171875,-0.1328125,-0.1484375,-0.1640625,-0.1796875,-0.1953125,-0.2109375,-0.2265625,-0.2421875,-0.2578125,-0.2734375,-0.2890625,-0.3046875,-0.3203125,-0.3359375,-0.3515625,-0.3671875,-0.3828125,-0.3984375,-0.4140625,-0.4296875,-0.4453125,-0.4609375,-0.4765625,-0.4921875,-0.5078125,-0.5234375,-0.5390625,-0.5546875,-0.5703125,-0.5859375,-0.6015625,-0.6171875,-0.6328125,-0.6484375,-0.6640625,-0.6796875,-0.6953125,-0.7109375,-0.7265625,-0.7421875,-0.7578125,-0.7734375,-0.7890625,-0.8046875,-0.8203125,-0.8359375,-0.8515625,-0.8671875,-0.8828125,-0.8984375,-0.9140625,-0.9296875,-0.9453125,-0.9609375,-0.9765625,-0.9921875,-1,-0.984375,-0.96875,-0.953125,-0.9375,-0.921875,-0.90625,-0.890625,-0.875,-0.859375,-0.84375,-0.828125,-0.8125,-0.796875,-0.78125,-0.765625,-0.75,-0.734375,-0.71875,-0.703125,-0.6875,-0.671875,-0.65625,-0.640625,-0.625,-0.609375,-0.59375,-0.578125,-0.5625,-0.546875,-0.53125,-0.515625,-0.4921875,-0.4765625,-0.4609375,-0.4453125,-0.4296875,-0.4140625,-0.3984375,-0.3828125,-0.3671875,-0.3515625,-0.3359375,-0.3203125,-0.3046875,-0.2890625,-0.2734375,-0.2578125,-0.2421875,-0.2265625,-0.2109375,-0.1953125,-0.1796875,-0.1640625,-0.1484375,-0.1328125,-0.1171875,-0.1015625,-0.0859375,-0.0703125,-0.0546875,-0.0390625,-0.0234375,-0.0078125,0.015625
	},
	{
		// [2] noisy tri 
		0.0703125,0.25,0.234375,0.1015625,0.1484375,0.0390625,-0.171875,0.1171875,-0.0703125,-0.0625,-0.0234375,-0.0625,0.1015625,0.15625,-0.15625,-0.0234375,0.4296875,0.171875,0.3671875,0.109375,0.1640625,0.25,0.3046875,0.1953125,0.3671875,0.0078125,0.1953125,0.1640625,-0.03125,0.0703125,0.2109375,0.484375,0.6171875,0.6015625,0.4296875,0.3984375,0.3515625,0.3515625,0.4375,0.4140625,0.125,0.5,0.2578125,0.3359375,0.140625,0.578125,0.15625,0.3515625,0.890625,0.6953125,0.859375,0.8828125,0.921875,0.2734375,0.6640625,0.7109375,0.328125,0.2734375,0.625,0.3203125,0.5390625,0.59375,0.75,0.578125,0.5234375,0.6875,0.765625,0.78125,0.578125,0.2734375,0.7265625,0.3671875,0.546875,0.6796875,0.5546875,0.3359375,0.3046875,0.6484375,0.6015625,0.4453125,0.5703125,0.71875,0.859375,0.765625,0.4453125,0.4375,0.5078125,0.15625,0.5703125,0.3046875,0.4453125,0.515625,0.1640625,0.15625,0.484375,0.21875,0.65625,0.3046875,0.609375,0.3125,0.3046875,0.34375,0.046875,0.03125,0.1953125,0.3671875,-0.015625,0.0859375,0.1796875,0.109375,-0.078125,-0.0625,0.234375,0.296875,0.40625,0.3984375,0.015625,-0.1171875,-0.0390625,0.0546875,-0.015625,-0.15625,-0.1875,-0.203125,-0.1171875,-0.234375,-0.21875,-0.171875,0.109375,0.125,0.0078125,0.0859375,0.015625,-0.2109375,-0.0234375,-0.3359375,-0.1953125,-0.1953125,-0.1640625,-0.2421875,-0.46875,-0.1015625,-0.5390625,-0.4609375,-0.0546875,-0.2421875,-0.2109375,0.046875,-0.2265625,-0.546875,-0.5859375,-0.2890625,-0.3359375,-0.515625,-0.6171875,-0.5,-0.484375,-0.625,-0.5625,-0.6015625,-0.2421875,-0.4296875,-0.125,-0.203125,-0.4296875,-0.515625,-0.359375,-0.8359375,-0.703125,-0.4765625,-0.640625,-0.53125,-0.8125,-0.5078125,-0.453125,-0.5859375,-0.3046875,-0.4921875,-0.34375,-0.46875,-0.5625,-0.640625,-0.8203125,-0.640625,-0.7421875,-0.9453125,-0.9296875,-0.78125,-0.6796875,-0.8828125,-0.71875,-0.8046875,-0.515625,-0.6484375,-0.6875,-0.625,-0.390625,-0.7265625,-0.5546875,-0.84375,-1,-0.7265625,-0.6328125,-0.984375,-0.8125,-0.578125,-0.5390625,-0.8671875,-0.40625,-0.671875,-0.5,-0.5859375,-0.25,-0.6953125,-0.6796875,-0.484375,-0.578125,-0.75,-0.4765625,-0.4609375,-0.6015625,-0.625,-0.578125,-0.5234375,-0.2890625,-0.1640625,-0.2265625,-0.125,-0.0703125,-0.34375,-0.5625,-0.5703125,-0.28125,-0.359375,-0.234375,-0.359375,-0.515625,-0.3203125,-0.5,-0.3125,-0.046875,0.0078125,-0.2578125,-0.2109375,-0.21875,-0.125,-0.3515625,-0.3359375,-0.2734375,-0.4140625,-0.21875,-0.0234375,-0.34375,-0.046875,-0.0546875,-0.171875

	},
	{
		// 3 noisy saw
		0.34375,0.6484375,0.9375,0.953125,0.8984375,0.8984375,0.8515625,0.796875,0.734375,0.7265625,0.7109375,0.7578125,0.765625,0.78125,0.8046875,0.7578125,0.734375,0.71875,0.65625,0.6484375,0.6875,0.6875,0.75,0.7421875,0.71875,0.6796875,0.6328125,0.5703125,0.5859375,0.6171875,0.6328125,0.6875,0.6875,0.6640625,0.59375,0.5390625,0.5390625,0.5546875,0.5390625,0.5859375,0.5546875,0.53125,0.46875,0.53125,0.4609375,0.4609375,0.4921875,0.53125,0.5234375,0.5859375,0.625,0.5546875,0.578125,0.5390625,0.4765625,0.40625,0.4453125,0.3828125,0.34375,0.375,0.4453125,0.4296875,0.4140625,0.3984375,0.3828125,0.34375,0.296875,0.2890625,0.328125,0.3046875,0.2734375,0.3203125,0.3671875,0.3046875,0.2890625,0.3125,0.296875,0.28125,0.28125,0.3046875,0.3046875,0.296875,0.2578125,0.2734375,0.28125,0.2109375,0.21875,0.2421875,0.203125,0.203125,0.2109375,0.1484375,0.1796875,0.1484375,0.1328125,0.1171875,0.15625,0.09375,0.0703125,0.0625,0.0625,0.015625,0.0390625,0.0859375,0.0390625,0.015625,0.046875,0.0390625,-0.03125,-0.03125,-0.0390625,-0.0546875,-0.0390625,0.0078125,-0.015625,-0.0234375,-0.0625,-0.078125,-0.0859375,-0.0703125,-0.078125,-0.0546875,-0.1015625,-0.1640625,-0.1640625,-0.1484375,-0.1640625,-0.15625,-0.1875,-0.1640625,-0.1953125,-0.1640625,-0.1328125,-0.140625,-0.1796875,-0.1640625,-0.1796875,-0.2109375,-0.21875,-0.1953125,-0.03125,-0.0703125,-0.0703125,-0.0625,-0.109375,-0.046875,-0.046875,-0.078125,-0.0859375,-0.0625,-0.078125,-0.078125,-0.0859375,-0.0703125,-0.09375,-0.140625,-0.140625,-0.140625,-0.1640625,-0.1953125,-0.1484375,-0.125,-0.1328125,-0.1328125,-0.078125,-0.1484375,-0.1875,-0.15625,-0.1796875,-0.203125,-0.1953125,-0.1640625,-0.15625,-0.1484375,-0.1484375,-0.1640625,-0.1796875,-0.21875,-0.25,-0.265625,-0.2734375,-0.28125,-0.2890625,-0.3125,-0.359375,-0.3515625,-0.359375,-0.390625,-0.359375,-0.34375,-0.34375,-0.3828125,-0.3984375,-0.4609375,-0.4375,-0.4453125,-0.3984375,-0.390625,-0.421875,-0.4453125,-0.4375,-0.5234375,-0.5234375,-0.46875,-0.453125,-0.5,-0.4609375,-0.4921875,-0.53125,-0.5859375,-0.578125,-0.59375,-0.5703125,-0.546875,-0.5234375,-0.578125,-0.5546875,-0.5390625,-0.5703125,-0.5859375,-0.5703125,-0.59375,-0.625,-0.609375,-0.6015625,-0.5859375,-0.5625,-0.546875,-0.625,-0.65625,-0.65625,-0.6796875,-0.6796875,-0.6640625,-0.671875,-0.6953125,-0.7265625,-0.7578125,-0.765625,-0.7421875,-0.7890625,-0.8046875,-0.84375,-0.8359375,-0.875,-0.8984375,-0.890625,-0.90625,-0.9375,-0.90625,-0.9296875,-0.9140625,-0.8828125,-0.859375,-0.5703125,-0.1953125
	},
	{
		// 4 saw
		0.9765625,0.96875,0.9609375,0.953125,0.9453125,0.9375,0.9296875,0.921875,0.9140625,0.90625,0.8984375,0.890625,0.8828125,0.875,0.8671875,0.859375,0.8515625,0.84375,0.8359375,0.828125,0.8203125,0.8125,0.8046875,0.796875,0.7890625,0.78125,0.7734375,0.765625,0.7578125,0.75,0.7421875,0.734375,0.7265625,0.71875,0.7109375,0.703125,0.6953125,0.6875,0.6796875,0.671875,0.6640625,0.65625,0.6484375,0.640625,0.6328125,0.625,0.6171875,0.609375,0.6015625,0.59375,0.5859375,0.578125,0.5703125,0.5625,0.5546875,0.546875,0.5390625,0.53125,0.5234375,0.515625,0.5078125,0.5,0.4921875,0.484375,0.4765625,0.46875,0.4609375,0.453125,0.4453125,0.4375,0.4296875,0.421875,0.4140625,0.40625,0.3984375,0.390625,0.3828125,0.375,0.3671875,0.359375,0.3515625,0.34375,0.3359375,0.328125,0.3203125,0.3125,0.3046875,0.296875,0.2890625,0.28125,0.2734375,0.265625,0.2578125,0.25,0.2421875,0.234375,0.2265625,0.21875,0.2109375,0.203125,0.1953125,0.1875,0.1796875,0.171875,0.1640625,0.15625,0.1484375,0.140625,0.1328125,0.125,0.1171875,0.109375,0.1015625,0.09375,0.0859375,0.078125,0.0703125,0.0625,0.0546875,0.046875,0.0390625,0.03125,0.0234375,0.015625,0.0078125,0,-0.0078125,-0.0234375,-0.03125,-0.0390625,-0.046875,-0.0546875,-0.0625,-0.0703125,-0.078125,-0.0859375,-0.09375,-0.1015625,-0.109375,-0.1171875,-0.125,-0.1328125,-0.140625,-0.1484375,-0.15625,-0.1640625,-0.171875,-0.1796875,-0.1875,-0.1953125,-0.203125,-0.2109375,-0.21875,-0.2265625,-0.234375,-0.2421875,-0.25,-0.2578125,-0.265625,-0.2734375,-0.28125,-0.2890625,-0.296875,-0.3046875,-0.3125,-0.3203125,-0.328125,-0.3359375,-0.34375,-0.3515625,-0.359375,-0.3671875,-0.375,-0.3828125,-0.390625,-0.3984375,-0.40625,-0.4140625,-0.421875,-0.4296875,-0.4375,-0.4453125,-0.453125,-0.4609375,-0.46875,-0.4765625,-0.484375,-0.4921875,-0.5,-0.5078125,-0.515625,-0.5234375,-0.53125,-0.5390625,-0.546875,-0.5546875,-0.5625,-0.5703125,-0.578125,-0.5859375,-0.59375,-0.6015625,-0.609375,-0.6171875,-0.625,-0.6328125,-0.640625,-0.6484375,-0.65625,-0.6640625,-0.671875,-0.6796875,-0.6875,-0.6953125,-0.703125,-0.7109375,-0.71875,-0.7265625,-0.734375,-0.7421875,-0.75,-0.7578125,-0.765625,-0.7734375,-0.78125,-0.7890625,-0.796875,-0.8046875,-0.8125,-0.8203125,-0.828125,-0.8359375,-0.84375,-0.8515625,-0.859375,-0.8671875,-0.875,-0.8828125,-0.890625,-0.8984375,-0.90625,-0.9140625,-0.921875,-0.9296875,-0.9375,-0.9453125,-0.953125,-0.9609375,-0.96875,-0.9765625,-0.984375,-0.9921875,-1,-1,-1,-1
	},
	{
		// 5 square
		0.9375,0.9375,0.9375,0.9375,0.9375,0.9375,0.9375,0.9375,0.9375,0.9375,0.9375,0.9375,0.9375,0.9375,0.9375,0.9375,0.9375,0.9375,0.9375,0.9375,0.9375,0.9375,0.9375,0.9375,0.9375,0.9375,0.9375,0.9375,0.9375,0.9375,0.9375,0.9375,0.9375,0.9375,0.9375,0.9375,0.9375,0.9375,0.9375,0.9375,0.9375,0.9375,0.9375,0.9375,0.9375,0.9375,0.9375,0.9375,0.9375,0.9375,0.9375,0.9375,0.9375,0.9375,0.9375,0.9375,0.9375,0.9375,0.9375,0.9375,0.9375,0.9375,0.9375,0.9375,-0.9453125,-0.9453125,-0.9453125,-0.9453125,-0.9453125,-0.9453125,-0.9453125,-0.9453125,-0.9453125,-0.9453125,-0.9453125,-0.9453125,-0.9453125,-0.9453125,-0.9453125,-0.9453125,-0.9453125,-0.9453125,-0.9453125,-0.9453125,-0.9453125,-0.9453125,-0.9453125,-0.9453125,-0.9453125,-0.9453125,-0.9453125,-0.9453125,-0.9453125,-0.9453125,-0.9453125,-0.9453125,-0.9453125,-0.9453125,-0.9453125,-0.9453125,-0.9453125,-0.9453125,-0.9453125,-0.9453125,-0.9453125,-0.9453125,-0.9453125,-0.9453125,-0.9453125,-0.9453125,-0.9453125,-0.9453125,-0.9453125,-0.9453125,-0.9453125,-0.9453125,-0.9453125,-0.9453125,-0.9453125,-0.9453125,-0.9453125,-0.9453125,-0.9453125,-0.9453125,-0.9453125,-0.9453125,-0.9453125,-0.9453125,0.9375,0.9375,0.9375,0.9375,0.9375,0.9375,0.9375,0.9375,0.9375,0.9375,0.9375,0.9375,0.9375,0.9375,0.9375,0.9375,0.9375,0.9375,0.9375,0.9375,0.9375,0.9375,0.9375,0.9375,0.9375,0.9375,0.9375,0.9375,0.9375,0.9375,0.9375,0.9375,0.9375,0.9375,0.9375,0.9375,0.9375,0.9375,0.9375,0.9375,0.9375,0.9375,0.9375,0.9375,0.9375,0.9375,0.9375,0.9375,0.9375,0.9375,0.9375,0.9375,0.9375,0.9375,0.9375,0.9375,0.9375,0.9375,0.9375,0.9375,0.9375,0.9375,0.9375,0.9375,-0.9453125,-0.9453125,-0.9453125,-0.9453125,-0.9453125,-0.9453125,-0.9453125,-0.9453125,-0.9453125,-0.9453125,-0.9453125,-0.9453125,-0.9453125,-0.9453125,-0.9453125,-0.9453125,-0.9453125,-0.9453125,-0.9453125,-0.9453125,-0.9453125,-0.9453125,-0.9453125,-0.9453125,-0.9453125,-0.9453125,-0.9453125,-0.9453125,-0.9453125,-0.9453125,-0.9453125,-0.9453125,-0.9453125,-0.9453125,-0.9453125,-0.9453125,-0.9453125,-0.9453125,-0.9453125,-0.9453125,-0.9453125,-0.9453125,-0.9453125,-0.9453125,-0.9453125,-0.9453125,-0.9453125,-0.9453125,-0.9453125,-0.9453125,-0.9453125,-0.9453125,-0.9453125,-0.9453125,-0.9453125,-0.9453125,-0.9453125,-0.9453125,-0.9453125,-0.9453125,-0.9453125,-0.9453125,-0.9453125,-0.9453125
	},
	{
		// 7 noisy dbl sq
		0.0546875,0.078125,0.1875,0.2578125,0.3046875,0.4296875,0.5078125,0.546875,0.6171875,0.6953125,0.7734375,0.8046875,0.875,0.890625,0.9296875,0.9140625,0.9453125,0.9140625,0.953125,0.9375,0.90625,0.890625,0.9453125,0.8828125,0.90625,0.90625,0.90625,0.828125,0.8203125,0.8828125,0.828125,0.8671875,0.8671875,0.8515625,0.84375,0.78125,0.7734375,0.8359375,0.8125,0.7890625,0.7890625,0.78125,0.75,0.7890625,0.7109375,0.7265625,0.734375,0.7109375,0.7734375,0.7109375,0.71875,0.6796875,0.7109375,0.625,0.5546875,0.5,0.4296875,0.4140625,0.28125,0.2265625,0.1796875,0.1484375,0.046875,0.0625,-0.0703125,-0.0703125,-0.125,-0.1875,-0.2890625,-0.3203125,-0.421875,-0.4296875,-0.5,-0.5859375,-0.640625,-0.640625,-0.734375,-0.7109375,-0.71875,-0.734375,-0.71875,-0.75,-0.7265625,-0.7421875,-0.7890625,-0.765625,-0.78125,-0.7734375,-0.7421875,-0.765625,-0.8046875,-0.7734375,-0.8046875,-0.8515625,-0.796875,-0.859375,-0.8046875,-0.8125,-0.828125,-0.8671875,-0.890625,-0.859375,-0.9140625,-0.8984375,-0.90625,-0.90625,-0.9375,-0.9296875,-0.9453125,-0.9375,-0.9453125,-0.96875,-0.9375,-0.9609375,-0.875,-0.875,-0.8515625,-0.78125,-0.6796875,-0.6328125,-0.578125,-0.484375,-0.390625,-0.3046875,-0.2734375,-0.171875,-0.1484375,-0.03125,0,0.09375,0.15625,0.234375,0.3203125,0.421875,0.46875,0.5390625,0.5859375,0.65625,0.78125,0.84375,0.8359375,0.9140625,0.921875,0.96875,0.9453125,0.8984375,0.921875,0.9140625,0.9453125,0.921875,0.9375,0.90625,0.9296875,0.859375,0.859375,0.890625,0.828125,0.875,0.8125,0.859375,0.84375,0.8515625,0.84375,0.8203125,0.84375,0.8203125,0.7890625,0.796875,0.8125,0.7890625,0.7578125,0.7734375,0.78125,0.78125,0.7578125,0.765625,0.78125,0.703125,0.7265625,0.6875,0.6484375,0.6015625,0.5546875,0.484375,0.4375,0.3671875,0.328125,0.28125,0.203125,0.1484375,0.1171875,0.0390625,-0.0390625,-0.109375,-0.171875,-0.1953125,-0.2421875,-0.3046875,-0.40625,-0.4296875,-0.5390625,-0.6015625,-0.625,-0.6796875,-0.7421875,-0.7578125,-0.6953125,-0.75,-0.75,-0.7578125,-0.7265625,-0.7578125,-0.78125,-0.7734375,-0.75,-0.796875,-0.765625,-0.8046875,-0.8046875,-0.8046875,-0.796875,-0.8046875,-0.796875,-0.8125,-0.84375,-0.828125,-0.875,-0.8203125,-0.84375,-0.8359375,-0.84375,-0.859375,-0.9296875,-0.890625,-0.8828125,-0.9140625,-0.9453125,-0.921875,-0.90625,-0.9609375,-0.953125,-0.9375,-0.9453125,-0.890625,-0.84375,-0.7890625,-0.671875,-0.609375,-0.5625,-0.5,-0.390625,-0.3515625,-0.2578125,-0.171875,-0.1328125,-0.0546875
	},
	{
		// [8] monowave organ
		0.1796875,0.34375,0.4765625,0.6015625,0.703125,0.8046875,0.875,0.921875,0.9296875,0.921875,0.8828125,0.828125,0.75,0.65625,0.5625,0.4609375,0.3515625,0.2578125,0.1640625,0.09375,0.03125,-0.015625,-0.0390625,-0.046875,-0.046875,-0.015625,0.015625,0.0703125,0.125,0.1875,0.25,0.3125,0.359375,0.40625,0.4453125,0.46875,0.4765625,0.4765625,0.4609375,0.4453125,0.4140625,0.3828125,0.34375,0.3125,0.28125,0.25,0.234375,0.234375,0.234375,0.25,0.28125,0.328125,0.375,0.4296875,0.4921875,0.5546875,0.609375,0.65625,0.6875,0.71875,0.7265625,0.71875,0.6875,0.6484375,0.578125,0.5,0.3984375,0.296875,0.1796875,0.0625,-0.0546875,-0.15625,-0.2578125,-0.34375,-0.3984375,-0.4375,-0.453125,-0.4453125,-0.40625,-0.3359375,-0.2578125,-0.15625,-0.03125,0.1015625,0.234375,0.375,0.515625,0.6484375,0.7578125,0.859375,0.9296875,0.984375,0.9921875,0.9921875,0.96875,0.921875,0.84375,0.75,0.6484375,0.53125,0.40625,0.28125,0.15625,0.046875,-0.0546875,-0.140625,-0.2109375,-0.2578125,-0.2890625,-0.3046875,-0.296875,-0.265625,-0.234375,-0.1875,-0.1328125,-0.078125,-0.03125,0.015625,0.0546875,0.09375,0.109375,0.125,0.125,0.1171875,0.09375,0.0625,0.0234375,-0.0078125,-0.046875,-0.0859375,-0.1171875,-0.1328125,-0.1484375,-0.1484375,-0.1328125,-0.109375,-0.078125,-0.0390625,0.0078125,0.0625,0.109375,0.1640625,0.2109375,0.25,0.2734375,0.28125,0.265625,0.2421875,0.1875,0.1171875,0.03125,-0.0625,-0.1796875,-0.3046875,-0.4296875,-0.546875,-0.671875,-0.7734375,-0.8671875,-0.9375,-0.9921875,-1,-1,-1,-0.953125,-0.8828125,-0.78125,-0.6640625,-0.5390625,-0.3984375,-0.2578125,-0.1171875,0.0078125,0.1328125,0.234375,0.3203125,0.3828125,0.421875,0.4296875,0.421875,0.3828125,0.3203125,0.234375,0.140625,0.03125,-0.0859375,-0.203125,-0.3125,-0.421875,-0.5234375,-0.6015625,-0.6640625,-0.7109375,-0.7421875,-0.75,-0.734375,-0.7109375,-0.6796875,-0.6328125,-0.5703125,-0.515625,-0.453125,-0.3984375,-0.34375,-0.3046875,-0.2734375,-0.2578125,-0.25,-0.2578125,-0.2734375,-0.3046875,-0.328125,-0.3671875,-0.40625,-0.4375,-0.4609375,-0.484375,-0.5,-0.5,-0.484375,-0.46875,-0.4296875,-0.3828125,-0.328125,-0.2734375,-0.2109375,-0.1484375,-0.0859375,-0.0390625,-0.0078125,0.015625,0.03125,0.015625,-0.0078125,-0.0546875,-0.109375,-0.1875,-0.28125,-0.375,-0.4765625,-0.5859375,-0.6796875,-0.7734375,-0.84375,-0.90625,-0.9453125,-0.953125,-0.9375,-0.8984375,-0.828125,-0.734375,-0.6171875,-0.4921875,-0.3515625,-0.1875,-0.0078125
	}
};

float envTable[8][256]{
{
0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875
},
{
	-1,-1,-1,-1,-1,-1,-0.9921875,-0.9921875,-0.984375,-0.9765625,-0.9765625,-0.96875,-0.9609375,-0.953125,-0.9453125,-0.9375,-0.9296875,-0.921875,-0.90625,-0.8984375,-0.890625,-0.875,-0.859375,-0.8515625,-0.8359375,-0.8203125,-0.8125,-0.796875,-0.78125,-0.765625,-0.75,-0.7265625,-0.7109375,-0.6953125,-0.6796875,-0.65625,-0.640625,-0.625,-0.6015625,-0.5859375,-0.5625,-0.5390625,-0.5234375,-0.5,-0.4765625,-0.4609375,-0.4375,-0.4140625,-0.390625,-0.3671875,-0.34375,-0.3203125,-0.296875,-0.2734375,-0.25,-0.2265625,-0.203125,-0.1796875,-0.15625,-0.1328125,-0.109375,-0.0859375,-0.0625,-0.0390625,-0.015625,0.0234375,0.046875,0.0703125,0.09375,0.1171875,0.140625,0.1640625,0.1875,0.2109375,0.234375,0.2578125,0.28125,0.3046875,0.328125,0.3515625,0.375,0.3984375,0.421875,0.4453125,0.4609375,0.484375,0.5078125,0.5234375,0.546875,0.5703125,0.5859375,0.609375,0.625,0.640625,0.6640625,0.6796875,0.6953125,0.7109375,0.734375,0.75,0.765625,0.78125,0.796875,0.8046875,0.8203125,0.8359375,0.84375,0.859375,0.875,0.8828125,0.890625,0.90625,0.9140625,0.921875,0.9296875,0.9375,0.9453125,0.953125,0.9609375,0.9609375,0.96875,0.9765625,0.9765625,0.9765625,0.984375,0.984375,0.984375,0.9921875,0.9921875,0.984375,0.984375,0.984375,0.9765625,0.9765625,0.9765625,0.96875,0.9609375,0.9609375,0.953125,0.9453125,0.9375,0.9296875,0.921875,0.9140625,0.90625,0.890625,0.8828125,0.875,0.859375,0.84375,0.8359375,0.8203125,0.8046875,0.796875,0.78125,0.765625,0.75,0.734375,0.7109375,0.6953125,0.6796875,0.6640625,0.640625,0.625,0.609375,0.5859375,0.5703125,0.546875,0.5234375,0.5078125,0.484375,0.4609375,0.4453125,0.421875,0.3984375,0.375,0.3515625,0.328125,0.3046875,0.28125,0.2578125,0.234375,0.2109375,0.1875,0.1640625,0.140625,0.1171875,0.09375,0.0703125,0.046875,0.0234375,-0.015625,-0.0390625,-0.0625,-0.0859375,-0.109375,-0.1328125,-0.15625,-0.1796875,-0.203125,-0.2265625,-0.25,-0.2734375,-0.296875,-0.3203125,-0.34375,-0.3671875,-0.390625,-0.4140625,-0.4375,-0.4609375,-0.4765625,-0.5,-0.5234375,-0.5390625,-0.5625,-0.5859375,-0.6015625,-0.625,-0.640625,-0.65625,-0.6796875,-0.6953125,-0.7109375,-0.7265625,-0.75,-0.765625,-0.78125,-0.796875,-0.8125,-0.8203125,-0.8359375,-0.8515625,-0.859375,-0.875,-0.890625,-0.8984375,-0.90625,-0.921875,-0.9296875,-0.9375,-0.9453125,-0.953125,-0.9609375,-0.96875,-0.9765625,-0.9765625,-0.984375,-0.9921875,-0.9921875,-1,-1,-1,-1,-1,-1
},
{
	0.0703125,0.25,0.234375,0.1015625,0.1484375,0.0390625,-0.171875,0.1171875,-0.0703125,-0.0625,-0.0234375,-0.0625,0.1015625,0.15625,-0.15625,-0.0234375,0.4296875,0.171875,0.3671875,0.109375,0.1640625,0.25,0.3046875,0.1953125,0.3671875,0.0078125,0.1953125,0.1640625,-0.03125,0.0703125,0.2109375,0.484375,0.6171875,0.6015625,0.4296875,0.3984375,0.3515625,0.3515625,0.4375,0.4140625,0.125,0.5,0.2578125,0.3359375,0.140625,0.578125,0.15625,0.3515625,0.890625,0.6953125,0.859375,0.8828125,0.921875,0.2734375,0.6640625,0.7109375,0.328125,0.2734375,0.625,0.3203125,0.5390625,0.59375,0.75,0.578125,0.5234375,0.6875,0.765625,0.78125,0.578125,0.2734375,0.7265625,0.3671875,0.546875,0.6796875,0.5546875,0.3359375,0.3046875,0.6484375,0.6015625,0.4453125,0.5703125,0.71875,0.859375,0.765625,0.4453125,0.4375,0.5078125,0.15625,0.5703125,0.3046875,0.4453125,0.515625,0.1640625,0.15625,0.484375,0.21875,0.65625,0.3046875,0.609375,0.3125,0.3046875,0.34375,0.046875,0.03125,0.1953125,0.3671875,-0.015625,0.0859375,0.1796875,0.109375,-0.078125,-0.0625,0.234375,0.296875,0.40625,0.3984375,0.015625,-0.1171875,-0.0390625,0.0546875,-0.015625,-0.15625,-0.1875,-0.203125,-0.1171875,-0.234375,-0.21875,-0.171875,0.109375,0.125,0.0078125,0.0859375,0.015625,-0.2109375,-0.0234375,-0.3359375,-0.1953125,-0.1953125,-0.1640625,-0.2421875,-0.46875,-0.1015625,-0.5390625,-0.4609375,-0.0546875,-0.2421875,-0.2109375,0.046875,-0.2265625,-0.546875,-0.5859375,-0.2890625,-0.3359375,-0.515625,-0.6171875,-0.5,-0.484375,-0.625,-0.5625,-0.6015625,-0.2421875,-0.4296875,-0.125,-0.203125,-0.4296875,-0.515625,-0.359375,-0.8359375,-0.703125,-0.4765625,-0.640625,-0.53125,-0.8125,-0.5078125,-0.453125,-0.5859375,-0.3046875,-0.4921875,-0.34375,-0.46875,-0.5625,-0.640625,-0.8203125,-0.640625,-0.7421875,-0.9453125,-0.9296875,-0.78125,-0.6796875,-0.8828125,-0.71875,-0.8046875,-0.515625,-0.6484375,-0.6875,-0.625,-0.390625,-0.7265625,-0.5546875,-0.84375,-1,-0.7265625,-0.6328125,-0.984375,-0.8125,-0.578125,-0.5390625,-0.8671875,-0.40625,-0.671875,-0.5,-0.5859375,-0.25,-0.6953125,-0.6796875,-0.484375,-0.578125,-0.75,-0.4765625,-0.4609375,-0.6015625,-0.625,-0.578125,-0.5234375,-0.2890625,-0.1640625,-0.2265625,-0.125,-0.0703125,-0.34375,-0.5625,-0.5703125,-0.28125,-0.359375,-0.234375,-0.359375,-0.515625,-0.3203125,-0.5,-0.3125,-0.046875,0.0078125,-0.2578125,-0.2109375,-0.21875,-0.125,-0.3515625,-0.3359375,-0.2734375,-0.4140625,-0.21875,-0.0234375,-0.34375,-0.046875,-0.0546875,-0.171875
},
{
	-0.6484375,-0.6328125,-0.6171875,-0.609375,-0.59375,-0.5859375,-0.578125,-0.5703125,-0.5703125,-0.5625,-0.5625,-0.5703125,-0.5703125,-0.578125,-0.5859375,-0.6015625,-0.609375,-0.625,-0.640625,-0.65625,-0.671875,-0.6875,-0.6953125,-0.7109375,-0.71875,-0.7265625,-0.734375,-0.7421875,-0.7421875,-0.734375,-0.734375,-0.7265625,-0.71875,-0.703125,-0.6875,-0.671875,-0.65625,-0.640625,-0.6171875,-0.6015625,-0.5859375,-0.5703125,-0.5546875,-0.546875,-0.5390625,-0.53125,-0.53125,-0.53125,-0.53125,-0.546875,-0.5546875,-0.5703125,-0.5859375,-0.6015625,-0.625,-0.6484375,-0.671875,-0.6953125,-0.7109375,-0.734375,-0.75,-0.765625,-0.78125,-0.7890625,-0.796875,-0.796875,-0.7890625,-0.78125,-0.765625,-0.75,-0.7265625,-0.703125,-0.6796875,-0.6484375,-0.6171875,-0.5859375,-0.5625,-0.53125,-0.5078125,-0.484375,-0.4609375,-0.4453125,-0.4375,-0.4375,-0.4375,-0.4453125,-0.4609375,-0.484375,-0.515625,-0.546875,-0.5859375,-0.625,-0.671875,-0.71875,-0.765625,-0.8125,-0.8515625,-0.8984375,-0.9296875,-0.9609375,-0.984375,-1,-1,-0.9921875,-0.9765625,-0.9453125,-0.90625,-0.8515625,-0.78125,-0.7109375,-0.6171875,-0.5234375,-0.421875,-0.3046875,-0.1875,-0.0703125,0.0546875,0.171875,0.296875,0.4140625,0.5234375,0.625,0.7109375,0.796875,0.859375,0.9140625,0.953125,0.9765625,0.9921875,0.9765625,0.953125,0.9140625,0.859375,0.796875,0.7109375,0.625,0.5234375,0.4140625,0.296875,0.171875,0.0546875,-0.0703125,-0.1875,-0.3046875,-0.421875,-0.5234375,-0.6171875,-0.7109375,-0.78125,-0.8515625,-0.90625,-0.9453125,-0.9765625,-0.9921875,-1,-1,-0.984375,-0.9609375,-0.9296875,-0.8984375,-0.8515625,-0.8125,-0.765625,-0.71875,-0.671875,-0.625,-0.5859375,-0.546875,-0.515625,-0.484375,-0.4609375,-0.4453125,-0.4375,-0.4375,-0.4375,-0.4453125,-0.4609375,-0.484375,-0.5078125,-0.53125,-0.5625,-0.5859375,-0.6171875,-0.6484375,-0.6796875,-0.703125,-0.7265625,-0.75,-0.765625,-0.78125,-0.7890625,-0.796875,-0.796875,-0.7890625,-0.78125,-0.765625,-0.75,-0.734375,-0.7109375,-0.6953125,-0.671875,-0.6484375,-0.625,-0.6015625,-0.5859375,-0.5703125,-0.5546875,-0.546875,-0.53125,-0.53125,-0.53125,-0.53125,-0.5390625,-0.546875,-0.5546875,-0.5703125,-0.5859375,-0.6015625,-0.6171875,-0.640625,-0.65625,-0.671875,-0.6875,-0.703125,-0.71875,-0.7265625,-0.734375,-0.734375,-0.7421875,-0.7421875,-0.734375,-0.7265625,-0.71875,-0.7109375,-0.6953125,-0.6875,-0.671875,-0.65625,-0.640625,-0.625,-0.609375,-0.6015625,-0.5859375,-0.578125,-0.5703125,-0.5703125,-0.5625,-0.5625,-0.5703125,-0.5703125,-0.578125,-0.5859375,-0.59375,-0.609375,-0.6171875,-0.6328125
},
{
	0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.9921875,0.984375,0.984375,0.984375,0.984375,0.984375,0.984375,0.984375,0.984375,0.984375,0.984375,0.984375,0.984375,0.984375,0.984375,0.984375,0.984375,0.984375,0.984375,0.9765625,0.9765625,0.9765625,0.9765625,0.9765625,0.9765625,0.9765625,0.9765625,0.9765625,0.9765625,0.9765625,0.9765625,0.9765625,0.9765625,0.9765625,0.9765625,0.9765625,0.9765625,0.9765625,0.9765625,0.9765625,0.9765625,0.9765625,0.96875,0.96875,0.96875,0.96875,0.96875,0.96875,0.96875,0.96875,0.96875,0.96875,0.96875,0.96875,0.96875,0.96875,0.96875,0.9609375,0.9609375,0.9609375,0.9609375,0.9609375,0.9609375,0.9609375,0.9609375,0.9609375,0.9609375,0.9609375,0.953125,0.953125,0.953125,0.953125,0.953125,0.953125,0.953125,0.953125,0.953125,0.9453125,0.9453125,0.9453125,0.9453125,0.9453125,0.9453125,0.9453125,0.9453125,0.9375,0.9375,0.9375,0.9375,0.9375,0.9375,0.9296875,0.9296875,0.9296875,0.9296875,0.9296875,0.9296875,0.921875,0.921875,0.921875,0.921875,0.921875,0.9140625,0.9140625,0.9140625,0.9140625,0.9140625,0.90625,0.90625,0.90625,0.90625,0.8984375,0.8984375,0.8984375,0.890625,0.890625,0.890625,0.890625,0.8828125,0.8828125,0.8828125,0.875,0.875,0.875,0.8671875,0.8671875,0.8671875,0.859375,0.859375,0.859375,0.8515625,0.8515625,0.84375,0.84375,0.8359375,0.8359375,0.8359375,0.828125,0.828125,0.8203125,0.8203125,0.8125,0.8125,0.8046875,0.8046875,0.796875,0.796875,0.7890625,0.78125,0.78125,0.7734375,0.7734375,0.765625,0.7578125,0.7578125,0.75,0.7421875,0.734375,0.734375,0.7265625,0.71875,0.7109375,0.7109375,0.703125,0.6953125,0.6875,0.6796875,0.671875,0.6640625,0.6640625,0.65625,0.6484375,0.640625,0.6328125,0.625,0.609375,0.6015625,0.59375,0.5859375,0.578125,0.5703125,0.5625,0.546875,0.5390625,0.53125,0.515625,0.5078125,0.5,0.484375,0.4765625,0.4609375,0.453125,0.4375,0.4296875,0.4140625,0.3984375,0.390625,0.375,0.359375,0.34375,0.3359375,0.3203125,0.3046875,0.2890625,0.2734375,0.2578125,0.2421875,0.21875,0.203125,0.1875,0.171875,0.1484375,0.1328125,0.109375,0.09375,0.0703125,0.0546875,0.03125,0.0078125,-0.015625,-0.0390625,-0.0625,-0.0859375,-0.109375,-0.1328125,-0.15625,-0.1796875,-0.2109375,-0.234375,-0.265625,-0.2890625,-0.3203125,-0.3515625,-0.3828125,-0.4140625,-0.4453125,-0.4765625,-0.5078125,-0.5390625,-0.578125,-0.609375,-0.6484375,-0.6796875,-0.71875,-0.7578125,-0.796875,-0.8359375,-0.8828125,-0.921875,-0.9609375,-1
},
{
	0.984375,0.9765625,0.96875,0.9609375,0.953125,0.9453125,0.9375,0.9296875,0.921875,0.9140625,0.90625,0.8984375,0.890625,0.8828125,0.875,0.8671875,0.859375,0.8515625,0.84375,0.8359375,0.828125,0.8203125,0.8125,0.8046875,0.796875,0.7890625,0.78125,0.7734375,0.765625,0.7578125,0.75,0.7421875,0.734375,0.7265625,0.71875,0.7109375,0.703125,0.6953125,0.6875,0.6796875,0.671875,0.6640625,0.65625,0.6484375,0.640625,0.6328125,0.625,0.6171875,0.609375,0.6015625,0.59375,0.5859375,0.578125,0.5703125,0.5625,0.5546875,0.546875,0.5390625,0.53125,0.5234375,0.515625,0.5078125,0.5,0.4921875,0.484375,0.4765625,0.46875,0.4609375,0.453125,0.4453125,0.4375,0.4296875,0.421875,0.4140625,0.40625,0.3984375,0.390625,0.3828125,0.375,0.3671875,0.359375,0.3515625,0.34375,0.3359375,0.328125,0.3203125,0.3125,0.3046875,0.296875,0.2890625,0.28125,0.2734375,0.265625,0.2578125,0.25,0.2421875,0.234375,0.2265625,0.21875,0.2109375,0.203125,0.1953125,0.1875,0.1796875,0.171875,0.1640625,0.15625,0.1484375,0.140625,0.1328125,0.125,0.1171875,0.109375,0.1015625,0.09375,0.0859375,0.078125,0.0703125,0.0625,0.0546875,0.046875,0.0390625,0.03125,0.0234375,0.015625,0.0078125,0,-0.015625,-0.0234375,-0.03125,-0.0390625,-0.046875,-0.0546875,-0.0625,-0.0703125,-0.078125,-0.0859375,-0.09375,-0.1015625,-0.109375,-0.1171875,-0.125,-0.1328125,-0.140625,-0.1484375,-0.15625,-0.1640625,-0.171875,-0.1796875,-0.1875,-0.1953125,-0.203125,-0.2109375,-0.21875,-0.2265625,-0.234375,-0.2421875,-0.25,-0.2578125,-0.265625,-0.2734375,-0.28125,-0.2890625,-0.296875,-0.3046875,-0.3125,-0.3203125,-0.328125,-0.3359375,-0.34375,-0.3515625,-0.359375,-0.3671875,-0.375,-0.3828125,-0.390625,-0.3984375,-0.40625,-0.4140625,-0.421875,-0.4296875,-0.4375,-0.4453125,-0.453125,-0.4609375,-0.46875,-0.4765625,-0.484375,-0.4921875,-0.5,-0.5078125,-0.515625,-0.5234375,-0.53125,-0.5390625,-0.546875,-0.5546875,-0.5625,-0.5703125,-0.578125,-0.5859375,-0.59375,-0.6015625,-0.609375,-0.6171875,-0.625,-0.6328125,-0.640625,-0.6484375,-0.65625,-0.6640625,-0.671875,-0.6796875,-0.6875,-0.6953125,-0.703125,-0.7109375,-0.71875,-0.7265625,-0.734375,-0.7421875,-0.75,-0.7578125,-0.765625,-0.7734375,-0.78125,-0.7890625,-0.796875,-0.8046875,-0.8125,-0.8203125,-0.828125,-0.8359375,-0.84375,-0.8515625,-0.859375,-0.8671875,-0.875,-0.8828125,-0.890625,-0.8984375,-0.90625,-0.9140625,-0.921875,-0.9296875,-0.9375,-0.9453125,-0.953125,-0.9609375,-0.96875,-0.9765625,-0.984375,-0.9921875,-1,-1,-1
},
{
	0.9921875,0.953125,0.9140625,0.875,0.828125,0.7890625,0.75,0.7109375,0.671875,0.640625,0.6015625,0.5703125,0.53125,0.5,0.46875,0.4375,0.40625,0.375,0.34375,0.3125,0.28125,0.2578125,0.2265625,0.203125,0.171875,0.1484375,0.125,0.1015625,0.078125,0.0546875,0.03125,0.0078125,-0.015625,-0.0390625,-0.0625,-0.078125,-0.1015625,-0.1171875,-0.140625,-0.15625,-0.1796875,-0.1953125,-0.2109375,-0.2265625,-0.25,-0.265625,-0.28125,-0.296875,-0.3125,-0.328125,-0.34375,-0.3515625,-0.3671875,-0.3828125,-0.3984375,-0.40625,-0.421875,-0.4375,-0.4453125,-0.4609375,-0.46875,-0.484375,-0.4921875,-0.5078125,-0.515625,-0.5234375,-0.5390625,-0.546875,-0.5546875,-0.5703125,-0.578125,-0.5859375,-0.59375,-0.6015625,-0.609375,-0.6171875,-0.6328125,-0.640625,-0.6484375,-0.65625,-0.6640625,-0.671875,-0.671875,-0.6796875,-0.6875,-0.6953125,-0.703125,-0.7109375,-0.71875,-0.71875,-0.7265625,-0.734375,-0.7421875,-0.7421875,-0.75,-0.7578125,-0.765625,-0.765625,-0.7734375,-0.78125,-0.78125,-0.7890625,-0.7890625,-0.796875,-0.8046875,-0.8046875,-0.8125,-0.8125,-0.8203125,-0.8203125,-0.828125,-0.828125,-0.8359375,-0.8359375,-0.84375,-0.84375,-0.84375,-0.8515625,-0.8515625,-0.859375,-0.859375,-0.8671875,-0.8671875,-0.8671875,-0.875,-0.875,-0.875,-0.8828125,-0.8828125,-0.8828125,-0.890625,-0.890625,-0.890625,-0.8984375,-0.8984375,-0.8984375,-0.8984375,-0.90625,-0.90625,-0.90625,-0.9140625,-0.9140625,-0.9140625,-0.9140625,-0.921875,-0.921875,-0.921875,-0.921875,-0.921875,-0.9296875,-0.9296875,-0.9296875,-0.9296875,-0.9296875,-0.9375,-0.9375,-0.9375,-0.9375,-0.9375,-0.9375,-0.9453125,-0.9453125,-0.9453125,-0.9453125,-0.9453125,-0.9453125,-0.953125,-0.953125,-0.953125,-0.953125,-0.953125,-0.953125,-0.953125,-0.953125,-0.9609375,-0.9609375,-0.9609375,-0.9609375,-0.9609375,-0.9609375,-0.9609375,-0.9609375,-0.9609375,-0.96875,-0.96875,-0.96875,-0.96875,-0.96875,-0.96875,-0.96875,-0.96875,-0.96875,-0.96875,-0.96875,-0.9765625,-0.9765625,-0.9765625,-0.9765625,-0.9765625,-0.9765625,-0.9765625,-0.9765625,-0.9765625,-0.9765625,-0.9765625,-0.9765625,-0.9765625,-0.9765625,-0.9765625,-0.984375,-0.984375,-0.984375,-0.984375,-0.984375,-0.984375,-0.984375,-0.984375,-0.984375,-0.984375,-0.984375,-0.984375,-0.984375,-0.984375,-0.984375,-0.984375,-0.984375,-0.984375,-0.984375,-0.984375,-0.984375,-0.984375,-0.984375,-0.9921875,-0.9921875,-0.9921875,-0.9921875,-0.9921875,-0.9921875,-0.9921875,-0.9921875,-0.9921875,-0.9921875,-0.9921875,-0.9921875,-0.9921875,-0.9921875,-0.9921875,-0.9921875,-0.9921875,-0.9921875,-1,-1,-1,-1,-1,-1
},
{
	0.9921875,0.953125,0.921875,0.8984375,0.8671875,0.8359375,0.8046875,0.7734375,0.75,0.71875,0.6875,0.6640625,0.6328125,0.6015625,0.578125,0.546875,0.5234375,0.4921875,0.46875,0.4453125,0.4140625,0.390625,0.3671875,0.3359375,0.3125,0.2890625,0.265625,0.2421875,0.2109375,0.1875,0.1640625,0.140625,0.1171875,0.09375,0.0703125,0.0546875,0.03125,0.0078125,-0.015625,-0.0390625,-0.0546875,-0.078125,-0.1015625,-0.1171875,-0.140625,-0.1640625,-0.1796875,-0.203125,-0.21875,-0.2421875,-0.2578125,-0.2734375,-0.296875,-0.3125,-0.328125,-0.3515625,-0.3671875,-0.3828125,-0.3984375,-0.421875,-0.4375,-0.453125,-0.46875,-0.484375,-0.5,-0.515625,-0.53125,-0.546875,-0.5546875,-0.5703125,-0.5859375,-0.6015625,-0.6171875,-0.625,-0.640625,-0.65625,-0.6640625,-0.6796875,-0.6875,-0.703125,-0.7109375,-0.7265625,-0.734375,-0.75,-0.7578125,-0.765625,-0.78125,-0.7890625,-0.796875,-0.8046875,-0.8203125,-0.828125,-0.8359375,-0.84375,-0.8515625,-0.859375,-0.8671875,-0.875,-0.8828125,-0.890625,-0.8984375,-0.90625,-0.90625,-0.9140625,-0.921875,-0.9296875,-0.9296875,-0.9375,-0.9453125,-0.9453125,-0.953125,-0.953125,-0.9609375,-0.9609375,-0.96875,-0.96875,-0.96875,-0.9765625,-0.9765625,-0.9765625,-0.984375,-0.984375,-0.984375,-0.9921875,-0.9921875,-0.9921875,-0.9921875,-0.9921875,-0.9921875,-0.9921875,-0.9921875,-0.984375,-0.984375,-0.984375,-0.984375,-0.984375,-0.9765625,-0.9765625,-0.9765625,-0.96875,-0.96875,-0.96875,-0.9609375,-0.9609375,-0.953125,-0.953125,-0.9453125,-0.9453125,-0.9375,-0.9296875,-0.9296875,-0.921875,-0.9140625,-0.90625,-0.90625,-0.8984375,-0.890625,-0.8828125,-0.875,-0.8671875,-0.859375,-0.8515625,-0.84375,-0.8359375,-0.828125,-0.8203125,-0.8046875,-0.796875,-0.7890625,-0.78125,-0.765625,-0.7578125,-0.75,-0.734375,-0.7265625,-0.7109375,-0.703125,-0.6875,-0.6796875,-0.6640625,-0.65625,-0.640625,-0.625,-0.6171875,-0.6015625,-0.5859375,-0.5703125,-0.5546875,-0.546875,-0.53125,-0.515625,-0.5,-0.484375,-0.46875,-0.453125,-0.4375,-0.421875,-0.3984375,-0.3828125,-0.3671875,-0.3515625,-0.328125,-0.3125,-0.296875,-0.2734375,-0.2578125,-0.2421875,-0.21875,-0.203125,-0.1796875,-0.1640625,-0.140625,-0.1171875,-0.1015625,-0.078125,-0.0546875,-0.0390625,-0.015625,0.0078125,0.03125,0.0546875,0.0703125,0.09375,0.1171875,0.140625,0.1640625,0.1875,0.2109375,0.2421875,0.265625,0.2890625,0.3125,0.3359375,0.3671875,0.390625,0.4140625,0.4453125,0.46875,0.4921875,0.5234375,0.546875,0.578125,0.6015625,0.6328125,0.6640625,0.6875,0.71875,0.75,0.7734375,0.8046875,0.8359375,0.8671875,0.8984375,0.921875,0.953125,0.9921875
}
};
